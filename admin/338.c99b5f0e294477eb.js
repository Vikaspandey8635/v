"use strict";(self.webpackChunkadminPanel=self.webpackChunkadminPanel||[]).push([[338],{38338:(I,d,t)=>{t.r(d),t.d(d,{ProfileModule:()=>q});var f=t(69808),u=t(99826),i=t(93075),e=t(5e3),g=t(63282),h=t(32260),p=t(53251),s=t(67322),c=t(77531);function Z(o,l){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Image is required"),e.qZA())}function v(o,l){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Email is required"),e.qZA())}function P(o,l){1&o&&(e.TgZ(0,"mat-error"),e._uU(1,"Please Enter a valid Email."),e.qZA())}const T=[{path:"",component:(()=>{class o{constructor(a,r){this.http=a,this.common=r,this.submitted=!1}ngOnInit(){this.initForm(),this.getAdminProfileData()}getAdminProfileData(){localStorage.getItem("adminProfileData")&&(this.adminProfileData=JSON.parse(localStorage.getItem("adminProfileData")),this.profileForm.patchValue(this.adminProfileData))}initForm(){this.profileForm=new i.cw({image:new i.NI(""),name:new i.NI("",i.kI.required),countryCode:new i.NI("",i.kI.required),phone:new i.NI("",i.kI.required),email:new i.NI("",[i.kI.required,i.kI.email]),address:new i.NI("",i.kI.required)})}onSubmit(){if(this.submitted=!0,this.profileForm.valid){let a=Object.assign(Object.assign({},this.profileForm.value),{image:"imageURl"});this.http.putRequest("updateProfile",a).subscribe(r=>{localStorage.setItem("adminProfileData",JSON.stringify(r.data)),this.getAdminProfileData(),this.common.showToastr("success",r.message)})}}onFileChange(a){var n=a.target.files[0].name.split(".");["png","jpg","jpeg"].includes(n[n.length-1])?this.http.fileUpload(a.target.files[0]).subscribe(U=>{this.profileForm.patchValue({image:U.data})}):this.common.showToastr("error","Invalid File Format: Only .png, .jpg and .jpeg format allowed!")}}return o.\u0275fac=function(a){return new(a||o)(e.Y36(g.e),e.Y36(h.v))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-myprofile"]],decls:78,vars:10,consts:[["id","page-content-wrapper"],[1,"container-fluid"],[1,"tabel-page"],[1,"title-bar"],["label","Profile"],[1,"card"],[1,"card-body"],[1,"profile-content"],[1,"prof-upload"],["onerror","this.src='assets/images/profile.jpeg'",3,"src"],[1,"prof-data"],["label","Edit Profile"],[3,"formGroup","ngSubmit"],[1,"profile-upload"],[1,"upload-img"],[1,"uploadfile"],["type","file","id","myfile","name","myfile",3,"change"],[1,"hover-plus"],["aria-hidden","true",1,"fa","fa-pencil"],[4,"ngIf"],[1,"form_feilds"],[1,"form_grup"],["appearance","fill"],["matInput","","placeholder","Name","formControlName","name",1,"form_control"],["matInput","","placeholder","Country Code","formControlName","countryCode","type","number",1,"form_control"],["matInput","","placeholder","Phone Number","formControlName","phone","type","number",1,"form_control"],["matInput","","placeholder","Email","formControlName","email",1,"form_control"],["matInput","","placeholder","Address","formControlName","address",1,"form_control"],[1,"update"],["type","submit",1,"btn","btn-primary"]],template:function(a,r){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2"),e._uU(5,"My Profile"),e.qZA()(),e.TgZ(6,"mat-tab-group")(7,"mat-tab",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"figure"),e._UZ(13,"img",9),e.qZA()(),e.TgZ(14,"div",10)(15,"ul")(16,"li")(17,"h3"),e._uU(18,"Name"),e.qZA(),e.TgZ(19,"p"),e._uU(20),e.qZA()(),e.TgZ(21,"li")(22,"h3"),e._uU(23,"Phone Number"),e.qZA(),e.TgZ(24,"p"),e._uU(25),e.qZA()(),e.TgZ(26,"li")(27,"h3"),e._uU(28,"Email"),e.qZA(),e.TgZ(29,"p"),e._uU(30),e.qZA()(),e.TgZ(31,"li")(32,"h3"),e._uU(33,"Address"),e.qZA(),e.TgZ(34,"p"),e._uU(35),e.qZA()()()()()()()(),e.TgZ(36,"mat-tab",11)(37,"div",5)(38,"div",6)(39,"form",12),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(40,"div",13)(41,"div",14)(42,"figure"),e._UZ(43,"img",9),e.qZA(),e.TgZ(44,"div",15)(45,"input",16),e.NdJ("change",function(m){return r.onFileChange(m)}),e.qZA()(),e.TgZ(46,"div",17),e._UZ(47,"i",18),e.qZA()()(),e.YNc(48,Z,2,0,"mat-error",19),e.TgZ(49,"div",20)(50,"div",21)(51,"mat-form-field",22),e._UZ(52,"input",23),e.TgZ(53,"mat-error"),e._uU(54,"Name is required."),e.qZA()()(),e.TgZ(55,"div",21)(56,"mat-form-field",22),e._UZ(57,"input",24),e.TgZ(58,"mat-error"),e._uU(59,"Country Code is required."),e.qZA()()(),e.TgZ(60,"div",21)(61,"mat-form-field",22),e._UZ(62,"input",25),e.TgZ(63,"mat-error"),e._uU(64,"Phone is required."),e.qZA()()(),e.TgZ(65,"div",21)(66,"mat-form-field",22),e._UZ(67,"input",26),e.YNc(68,v,2,0,"mat-error",19),e.YNc(69,P,2,0,"mat-error",19),e.qZA()(),e.TgZ(70,"div",21)(71,"mat-form-field",22),e._UZ(72,"input",27),e.TgZ(73,"mat-error"),e._uU(74,"Address is required."),e.qZA()()()(),e.TgZ(75,"div",28)(76,"button",29),e._uU(77,"Update"),e.qZA()()()()()()()()()()),2&a&&(e.xp6(13),e.Q6J("src",null==r.adminProfileData?null:r.adminProfileData.image,e.LSH),e.xp6(7),e.Oqu(null!=r.adminProfileData&&r.adminProfileData.name?r.adminProfileData.name:"--"),e.xp6(5),e.Oqu(null!=r.adminProfileData&&r.adminProfileData.phone?r.adminProfileData.phone:"--"),e.xp6(5),e.Oqu(null!=r.adminProfileData&&r.adminProfileData.email?r.adminProfileData.email:"--"),e.xp6(5),e.hij(" ",null!=r.adminProfileData&&r.adminProfileData.address?r.adminProfileData.address:"--"," "),e.xp6(4),e.Q6J("formGroup",r.profileForm),e.xp6(4),e.Q6J("src",null==r.adminProfileData?null:r.adminProfileData.image,e.LSH),e.xp6(5),e.Q6J("ngIf",r.profileForm.controls.image.hasError("required")&&r.submitted),e.xp6(20),e.Q6J("ngIf",r.profileForm.controls.email.hasError("required")),e.xp6(1),e.Q6J("ngIf",r.profileForm.controls.email.hasError("email")))},directives:[p.SP,p.uX,i._Y,i.JL,i.sg,f.O5,s.TO,s.KE,c.Nt,i.Fj,i.JJ,i.u,i.wV],styles:[""]}),o})()}];let y=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[u.Bz.forChild(T)],u.Bz]}),o})();var A=t(60613);let q=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[f.ez,y,A.q,i.u5,i.UX]]}),o})()}}]);